/* ===== Global basics ===== */
html, body { min-height: 100%; }
body {
    /* If the file is in /public, the URL is just /background.svg (not /public/…) */
    background-image: url('/public/background.svg');
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center top;
    background-attachment: fixed; /* great on desktop… */
}

/* …but avoid fixed backgrounds on mobile (iOS jank) */
@media (max-width: 768px) {
    html, body { min-height: 100svh; } /* better viewport unit on mobile */
    body {
        background-attachment: scroll;
        background-position: center top;
    }
}

/* Keep content readable over the bg */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    background: linear-gradient(to bottom, rgba(255,255,255,0.92), rgba(255,255,255,0.92));
    z-index: -1;
}
@media (prefers-color-scheme: dark) {
    body::before { background: linear-gradient(to bottom, rgba(0,0,0,0.6), rgba(0,0,0,0.6)); }
}

/* ===== Header ===== */
header.header,
header.header[role="banner"] {
    background: transparent !important;
    box-shadow: none !important;
}

/* Brand lockup (logo + name) */
.sl-site-title.brand {
    display: inline-flex;
    align-items: center;
    gap: .5rem;
    text-decoration: none;
}
.sl-site-title.brand img { height: 28px; width: auto; display: block; }
.sl-site-title.brand .brand-name {
    font-weight: 700;
    font-size: 1rem;
    line-height: 1;
    color: var(--brand-brown, #000);
}
@media (max-width: 480px) {
    .sl-site-title.brand img { height: 24px; }
    .sl-site-title.brand .brand-name { font-size: .95rem; }
}

/* ===== Sidebar (desktop) ===== */
.sidebar-pane {
    background: transparent !important;
    border-right: 0 !important;
    box-shadow: none !important;
    backdrop-filter: none !important;
}
.sidebar-pane .sidebar-content,
.sidebar-pane .group {
    background: transparent !important;
    border: 0 !important;
    box-shadow: none !important;
}

/* Active/hover colors (your brand) */
:root {
    --brand-brown:  #8B5E34;
    --brand-green:  #2E7D32;
    --brand-purple: #6A1B9A;

    --sl-color-accent: var(--brand-brown);
    --sl-color-accent-high: color-mix(in oklab, var(--brand-brown) 85%, black);
    --sl-color-text-accent: var(--brand-brown);
}
@media (prefers-color-scheme: dark) {
    :root {
        --sl-color-accent: color-mix(in oklab, var(--brand-brown) 80%, white);
        --sl-color-accent-high: color-mix(in oklab, var(--brand-brown) 65%, white);
        --sl-color-text-accent: var(--sl-color-accent);
    }
}
.sidebar-pane a[aria-current="page"] {
    color: var(--brand-brown) !important;
    background: color-mix(in oklab, var(--brand-brown) 12%, transparent) !important;
    border-left: 3px solid var(--brand-brown);
}
.sidebar-pane a:hover { color: var(--brand-green); }
.sidebar-pane a:focus-visible {
    outline: 2px solid var(--brand-purple);
    outline-offset: 2px;
}

/* ===== Mobile drawer ===== */
/* Full transparency can make nav illegible over the bg. Use a soft panel. */
.sl-mobile-nav,
.sl-mobile-nav .panel,
.sl-mobile-nav .panel::before {
    background: rgba(255,255,255,0.92) !important;
    box-shadow: none !important;
    border: 0 !important;
}
@media (prefers-color-scheme: dark) {
    .sl-mobile-nav,
    .sl-mobile-nav .panel,
    .sl-mobile-nav .panel::before {
        background: rgba(0,0,0,0.7) !important;
    }
}

/* ===== Content layout + typography ===== */
.sl-container { padding-inline: 1rem; }
@media (min-width: 769px) { .sl-container { padding-inline: 2rem; } }

.sl-content { background: transparent !important; }

/* Headings scale down a touch on small screens */
@media (max-width: 480px) {
    .sl-content h1 { font-size: 1.6rem; }
    .sl-content h2 { font-size: 1.3rem; }
    .sl-content h3 { font-size: 1.15rem; }
}

/* Media & code responsiveness */
img, video, svg { max-width: 100%; height: auto; }
pre, code { overflow-x: auto; word-wrap: normal; }

/* Links in header/title (keep black if you set it earlier) */
a.site-title,
a.site-title:visited,
a.site-title:active { color: #000 !important; text-decoration: none; }
.sl-mobile-nav a.site-title { color: #000 !important; }
